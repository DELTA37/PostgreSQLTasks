# PostgreSQLTasks
Е. П. Моргунов PostgreSQL. Основы языка SQL


# 1.1  
SQL содержит 4 группы операторов:

Операторы описания данных (CREATE, DROP, ALTER ...)
Операторы манипуляции данными: (INSERT, DELETE, SELECT, UPDATE...)
Операторы задания прав доступа в базе данных (GRANT / REVOKE , LOCK / UNLOCK , SET LOCK MODE...)
Операторы защиты, восстановления данных и прочие операторы.

# 1.2
Отношение - это грубо говоря таблица (заголок - аттрибуты (наименование столбцов), тело - список кортежей (строки таблицы))

# 1.3, 1.4
Потенциальный ключ — это комбинация атрибутов таблицы, позволяющая уникальным образом идентифицировать строки в ней
При наличии в таблице более одного потенциального ключа один из них выбирается в качестве так называемого первичного ключа, а остальные будут являться альтернативными ключами
Внешний ключ ссылающейся таблицы ссылается на потенциальный ключ ссылочной таблицы
Внешний ключ нужен для связи уникальных строк ссылочной таблицы со строками ссылающейся таблицы

# 1.5, 1.6
![](https://postgrespro.ru/media/docs/postgrespro/10/ru/demodb-bookings-schema.svg)
В реализации базы данных «Авиаперевозки» предполагается, что самолеты одной модели могут иметь только одну компоновку салона. Представим, что руко- водством принято решение о том, что нужно учитывать возможность наличия различных компоновок для каждой модели. Какие таблицы придется модифицировать в таком случае и каким образом? Потребуется ли создавать дополнительные таблицы?

Если мы хотим добавить разные варианты компоновок для одной модели самолета, то нужно изменить таблицу Seats, так как в разных компоновках кортеж (aircraft_code, seat_no) перестает быть потенциальным ключем для данного отношения (fare conditions в разных компоновках может быть разным и вообще в каких-то компоновках может не быть вовсе такого номера).  
Одним из решением - поменять внешний ключ (в таблице seats вместо aircraft_code поместим аттрибут aircrasft_design), а в таблицу aircrafts добавим внешний ключ на *aircraft_design

В случае, когда самолеты одной модели могут иметь только одну компоновку салона, созданный потенциальный ключ будет избыточным


